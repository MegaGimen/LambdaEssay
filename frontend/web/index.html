<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Git Graph</title>
    <base href="/" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script type="text/javascript">
      pdfjsLib.GlobalWorkerOptions.workerSrc = "//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js";
    </script>
  </head>
  <body>
    <script>var serviceWorkerVersion=null;</script>
    <script src="flutter.js" defer></script>
    <script>
      window.addEventListener('load', function() {
        try {
          if (typeof FlutterLoader !== 'undefined') {
            var loader = new FlutterLoader();
            loader.load({
              serviceWorker: { serviceWorkerVersion: serviceWorkerVersion }
            }).then(function(engineInitializer) {
              return engineInitializer.initializeEngine();
            }).then(function(appRunner) {
              appRunner.runApp();
            });
          } else if (window._flutter && _flutter.loader) {
            _flutter.loader.loadEntrypoint({
              serviceWorker: { serviceWorkerVersion: serviceWorkerVersion },
              onEntrypointLoaded: function(engineInitializer) {
                engineInitializer.initializeEngine().then(function(appRunner) {
                  appRunner.runApp();
                });
              }
            });
          } else {
            document.body.innerHTML = '<div style="padding:16px;color:#b00020">flutter.js 未加载或不兼容</div>';
          }
        } catch (e) {
          document.body.innerHTML = '<div style="padding:16px;color:#b00020">加载失败: ' + e + '</div>';
        }
      });
    </script>
  </body>
  </html>
